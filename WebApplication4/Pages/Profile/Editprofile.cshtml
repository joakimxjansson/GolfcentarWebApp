@model WebApplication4.Models.UserProfile

@{

    ViewData["Title"] = "Profile";

}
<h2>Edit Profile</h2>
<form method="post" enctype="multipart/form-data">

<div class="profile-image-container">

        @if (!string.IsNullOrEmpty(Model.ProfileImage))

        {
<img src="@Model.ProfileImage" alt="Profile Image" id="profileImagePreview" class="profile-image" />

        }

        else

        {
<img src="/images/default-profile.jpg" alt="Profile Image" id="profileImagePreview" class="profile-image" />

        }
</div>

<input type="file" asp-for="ProfileImage" id="profileImageInput" accept="image/*" class="input-field" />
<small>Click to upload a new profile picture.</small>
<br />

<label for="name">Name:</label>
<input type="text" asp-for="Name" class="input-field" placeholder="Enter your name" required />
<label for="email">Email:</label>
<input type="email" asp-for="Email" class="input-field" placeholder="Enter your email" required />

<button type="submit" class="submit-button">Save Profile</button>
</form>
<script>

    

    document.getElementById('profileImageInput').addEventListener('change', function(event) {

        var reader = new FileReader();

        reader.onload = function(e) {

            document.getElementById('profileImagePreview').src = e.target.result;

        };

        reader.readAsDataURL(event.target.files[0]);

    });
</script> 